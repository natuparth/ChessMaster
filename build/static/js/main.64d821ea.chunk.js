(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{13:function(i,o,c){},14:function(i,o,c){},15:function(i,o,c){},20:function(i,o,c){"use strict";c.r(o);var e=c(1),r=c.n(e),n=c(8),t=c.n(n),a=(c(13),c(4)),s=c(2),l=(c(14),c(3)),v=(c(15),{coin:"",coinColor:"",isActive:!1});function b(i,o,c,e){i.forEach((function(i){i.forEach((function(i){i.isActive=!1}))})),i[o][c].isActive=!0;switch(i[o][c].coin){case"rook":for(var r=1;r<8&&c+r<8;r++){if(""!==i[o][c+r].coin){if(""!==i[o][c+r].coin&&i[o][c+r].coinColor!==i[o][c].coinColor){i[o][c+r].isActive=!0;break}break}i[o][c+r].isActive=!0}for(var n=1;n<8&&c-n>=0;n++){if(""!==i[o][c-n].coin){if(""!==i[o][c-n].coin&&i[o][c-n].coinColor!==i[o][c].coinColor){i[o][c-n].isActive=!0;break}break}i[o][c-n].isActive=!0}for(var t=1;t<8&&o+t<8;t++){if(""!==i[o+t][c].coin){if(""!==i[o+t][c].coin&&i[o+t][c].coinColor!==i[o][c].coinColor){i[o+t][c].isActive=!0;break}break}i[o+t][c].isActive=!0}for(var a=1;a<8&&o-a>=0;a++){if(""!==i[o-a][c].coin){if(""!==i[o-a][c].coin&&i[o-a][c].coinColor!==i[o][c].coinColor){i[o-a][c].isActive=!0;break}break}i[o-a][c].isActive=!0}break;case"knight":o+2<8&&c+1<8&&i[o+2][c+1].coinColor!==i[o][c].coinColor&&(i[o+2][c+1].isActive=!0),o+2<8&&c-1>=0&&i[o+2][c-1].coinColor!==i[o][c].coinColor&&(i[o+2][c-1].isActive=!0),o-2>=0&&c+1<8&&i[o-2][c+1].coinColor!==i[o][c].coinColor&&(i[o-2][c+1].isActive=!0),o-2>=0&&c-1>=0&&i[o-2][c-1].coinColor!==i[o][c].coinColor&&(i[o-2][c-1].isActive=!0),o+1<8&&c+2<8&&i[o+1][c+2].coinColor!==i[o][c].coinColor&&(i[o+1][c+2].isActive=!0),o-1>=0&&c+2<8&&i[o-1][c+2].coinColor!==i[o][c].coinColor&&(i[o-1][c+2].isActive=!0),o+1<8&&c-2>=0&&i[o+1][c-2].coinColor!==i[o][c].coinColor&&(i[o+1][c-2].isActive=!0),o-1>=0&&c-2>=0&&i[o-1][c-2].coinColor!==i[o][c].coinColor&&(i[o-1][c-2].isActive=!0);break;case"bishop":for(var s=1;s<8&&(c+s<8&&o+s<8);s++){if(""!==i[o+s][c+s].coin){if(""!==i[o+s][c+s].coin&&i[o+s][c+s].coinColor!==i[o][c].coinColor){i[o+s][c+s].isActive=!0;break}break}i[o+s][c+s].isActive=!0}for(var l=1;l<8&&(c-l>=0&&o+l<8);l++){if(""!==i[o+l][c-l].coin){if(""!==i[o+l][c-l].coin&&i[o+l][c-l].coinColor!==i[o][c].coinColor){i[o+l][c-l].isActive=!0;break}break}i[o+l][c-l].isActive=!0}for(var v=1;v<8&&(c+v<8&&o-v>=0);v++){if(""!==i[o-v][c+v].coin){if(""!==i[o-v][c+v].coin&&i[o-v][c+v].coinColor!==i[o][c].coinColor){i[o-v][c+v].isActive=!0;break}break}i[o-v][c+v].isActive=!0}for(var b=1;b<8&&(c-b>=0&&o-b>=0);b++){if(""!==i[o-b][c-b].coin){if(""!==i[o-b][c-b].coin&&i[o-b][c-b].coinColor!==i[o][c].coinColor){i[o-b][c-b].isActive=!0;break}break}i[o-b][c-b].isActive=!0}break;case"queen":for(var f=1;f<8&&c+f<8;f++){if(""!==i[o][c+f].coin){if(""!==i[o][c+f].coin&&i[o][c+f].coinColor!==i[o][c].coinColor){i[o][c+f].isActive=!0;break}break}i[o][c+f].isActive=!0}for(var u=1;u<8&&c-u>=0;u++){if(""!==i[o][c-u].coin){if(""!==i[o][c-u].coin&&i[o][c-u].coinColor!==i[o][c].coinColor){i[o][c-u].isActive=!0;break}break}i[o][c-u].isActive=!0}for(var C=1;C<8&&o+C<8;C++){if(""!==i[o+C][c].coin){if(""!==i[o+C][c].coin&&i[o+C][c].coinColor!==i[o][c].coinColor){i[o+C][c].isActive=!0;break}break}i[o+C][c].isActive=!0}for(var j=1;j<8&&o-j>=0;j++){if(""!==i[o-j][c].coin){if(""!==i[o-j][c].coin&&i[o-j][c].coinColor!==i[o][c].coinColor){i[o-j][c].isActive=!0;break}break}i[o-j][c].isActive=!0}for(var h=1;h<8&&(c+h<8&&o+h<8);h++){if(""!==i[o+h][c+h].coin){if(""!==i[o+h][c+h].coin&&i[o+h][c+h].coinColor!==i[o][c].coinColor){i[o+h][c+h].isActive=!0;break}break}i[o+h][c+h].isActive=!0}for(var k=1;k<8&&(c-k>=0&&o+k<8);k++){if(""!==i[o+k][c-k].coin){if(""!==i[o+k][c-k].coin&&i[o+k][c-k].coinColor!==i[o][c].coinColor){i[o+k][c-k].isActive=!0;break}break}i[o+k][c-k].isActive=!0}for(var A=1;A<8&&(c+A<8&&o-A>=0);A++){if(""!==i[o-A][c+A].coin){if(""!==i[o-A][c+A].coin&&i[o-A][c+A].coinColor!==i[o][c].coinColor){i[o-A][c+A].isActive=!0;break}break}i[o-A][c+A].isActive=!0}for(var O=1;O<8&&(c-O>=0&&o-O>=0);O++){if(""!==i[o-O][c-O].coin){if(""!==i[o-O][c-O].coin&&i[o-O][c-O].coinColor!==i[o][c].coinColor){i[o-O][c-O].isActive=!0;break}break}i[o-O][c-O].isActive=!0}break;case"king":c+1<8&&i[o][c+1].coinColor!==i[o][c].coinColor&&(i[o][c+1].isActive=!0),c-1>=0&&i[o][c-1].coinColor!==i[o][c].coinColor&&(i[o][c-1].isActive=!0),o+1<8&&i[o+1][c].coinColor!==i[o][c].coinColor&&(i[o+1][c].isActive=!0),o-1>=0&&i[o-1][c].coinColor!==i[o][c].coinColor&&(i[o-1][c].isActive=!0),c+1<8&&o+1<8&&i[o+1][c+1].coinColor!==i[o][c].coinColor&&(i[o+1][c+1].isActive=!0),c-1>=0&&o+1<8&&i[o+1][c-1].coinColor!==i[o][c].coinColor&&(i[o+1][c-1].isActive=!0),c+1<8&&o-1>=0&&i[o-1][c+1].coinColor!==i[o][c].coinColor&&(i[o-1][c+1].isActive=!0),c-1>=0&&o-1>=0&&i[o-1][c-1].coinColor!==i[o][c].coinColor&&(i[o-1][c-1].isActive=!0);break;case"pawn":"white"===i[o][c].coinColor?(6===o&&""===i[o-2][c].coinColor&&(i[o-2][c].isActive=!0),o-1>=0&&""===i[o-1][c].coinColor&&(i[o-1][c].isActive=!0),o-1>=0&&c+1<8&&"black"===i[o-1][c+1].coinColor&&(i[o-1][c+1].isActive=!0),o-1>=0&&c-1>=0&&"black"===i[o-1][c-1].coinColor&&(i[o-1][c-1].isActive=!0)):(1===o&&""===i[o+2][c].coinColor&&(i[o+2][c].isActive=!0),o+1<8&&""===i[o+1][c].coinColor&&(i[o+1][c].isActive=!0),o+1<8&&c+1<8&&"white"===i[o+1][c+1].coinColor&&(i[o+1][c+1].isActive=!0),o+1<8&&c-1>=0&&"white"===i[o+1][c-1].coinColor&&(i[o+1][c-1].isActive=!0))}return i}var f=function(i,o){for(var c=!1,e="white"===o?"black":"white",r=u(i,o),n=Object(s.a)(r,2),t=n[0],a=n[1],v=0;v<8;v++)for(var f=0;f<8;f++){if(i[v][f].coinColor===e)if(!0===b(Object(l.a)(i),v,f)[t][a].isActive){c=!0;break}}return c},u=function(i,o){for(var c,e,r=0;r<8;r++)for(var n=0;n<8;n++)"king"===i[r][n].coin&&i[r][n].coinColor===o&&(c=r,e=n);return[c,e]},C=c(0),j=c(17),h={black:{pawn:"\u265f",rook:"\u265c",knight:"\u265e",bishop:"\u265d",queen:"\u265b",king:"\u265a"},white:{pawn:"\u2659",rook:"\u2656",knight:"\u2658",bishop:"\u2657",queen:"\u2655",king:"\u2654"}},k={coin:"",coinColor:"",isActive:!1},A=Array.from({length:64},(function(){return""}));var O=function(i){var o=i.coinPositions,c=i.player1,r=i.player2,n=Object(e.useState)({sec:0,min:0}),t=Object(s.a)(n,2),u=t[0],O=t[1],d=Object(e.useState)(k),m=Object(s.a)(d,2),p=m[0],w=m[1],x=Object(e.useState)([]),g=Object(s.a)(x,2),N=g[0],y=g[1],S=[],E=Object(e.useState)("white"),P=Object(s.a)(E,2),q=P[0],F=P[1],I=Object(e.useState)("false"),D=Object(s.a)(I,2),T=D[0],B=D[1],H=Object(e.useState)("false"),J=Object(s.a)(H,2),L=J[0],M=J[1],W=Object(e.useState)([]),z=Object(s.a)(W,2),G=z[0],K=z[1],Q=Object(e.useState)([]),R=Object(s.a)(Q,2),U=R[0],V=R[1],X=Object(e.useState)(A),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1],_=Object(e.useState)(o),ii=Object(s.a)(_,2),oi=ii[0],ci=ii[1];Object(e.useEffect)((function(){1==T&&(1==L?(alert("haha ! you have no more moves, i won"),ti(o),M(!1)):alert("haha macha! your king is under threat"),B(!1));var i=setInterval((function(){O((function(i){return i.sec>=60?{sec:0,min:i.min+1}:{sec:i.sec+1,min:i.min}}))}),1e3);return function(){return clearInterval(i)}}));for(var ei="black",ri=0;ri<8;ri++){var ni=vi(ei,ri,oi);ei="black"===ei?"white":"black",S.push.apply(S,Object(l.a)(ni))}var ti=function(i){ci(i)},ai=function(i){return w(i)},si=function(i){return y(i)};function li(i,o,c){for(var e=[],r=[],n=0;n<8;n++){e[n]=[];for(var t=0;t<8;t++)e[n][t]=Object.assign({},oi[n][t]),r[8*n+t]=""}if(oi[o][c].isActive){if(oi[o][c].coinColor===p.coinColor)e.forEach((function(i){return i.forEach((function(i){return i.isActive=!1}))})),ti(e.map((function(i){return i.map((function(i){return Object(a.a)(Object(a.a)({},i),{},{isActive:!1})}))})));else if(e[o][c].coinColor!=e[Number(N[0])][Number(N[1])].coinColor){ai(k);var u=function(i,o,c,e,r){for(var n=[],t=v,a=0;a<8;a++){n[a]=[];for(var s=0;s<8;s++)n[a][s]=Object.assign({},i[a][s])}n[Number(e[0])][Number(e[1])]=v,n[o][c]=r;var l=f(n,r.coinColor);return!0===l?alert("how dare you macha! your king is under threat"):(i[Number(e[0])][Number(e[1])]=v,t=i[o][c],i[o][c]=r),i.forEach((function(i){i.forEach((function(i){i.isActive=!1}))})),[i,t,!l]}([].concat(e),o,c,N,p),C=Object(s.a)(u,3),j=C[0],h=C[1],A=C[2];ti(j),"white"==h.coinColor?K((function(i){return[].concat(Object(l.a)(i),[h])})):"black"==h.coinColor&&V((function(i){return[].concat(Object(l.a)(i),[h])}));for(var O=[],d=0;d<8;d++){O[d]=[];for(var m=0;m<8;m++)O[d][m]=Object.assign({},j[d][m])}for(var w=[],x=0;x<8;x++){w[x]=[];for(var g=0;g<8;g++)w[x][g]=Object.assign({},j[x][g])}if(A){if(!0===f(O,"white"===q?"black":"white"))B(!0),!0===function(i,o){for(var c="white"===o?"black":"white",e=0;e<8;e++)for(var r=0;r<8;r++)if(i[e][r].coinColor===c)for(var n=b(Object(l.a)(i),e,r),t=0;t<8;t++)for(var a=0;a<8;a++)if((t!=e||a!=r)&&1==n[t][a].isActive&&"king"!=n[t][a].coin){for(var s=[],u=0;u<8;u++){s[u]=[];for(var C=0;C<8;C++)s[u][C]=Object.assign({},n[u][C])}if(s[t][a]=s[e][r],s[e][r]=v,0==f(s,c))return!1}return!0}(w,q)&&M(!0);!function(i){F(i)}("white"==q?"black":"white")}}}else{if(""===oi[o][c].coin)return;oi[o][c].coinColor==q&&(ai(oi[o][c]),si((function(i){return[o]})),si((function(i){return[].concat(Object(l.a)(i),[c])})),ti(b([].concat(e),o,c)))}for(var y=0;y<8;y++)for(var S=0;S<8;S++)e[y][S].isActive&&(""===e[y][S].coinColor?r[8*y+S]="elementSelected ":r[8*y+S]="coinToPlay");$(r)}function vi(i,o,c){for(var e=i,r=[],n=function(i){var n="cell "+("black"===e?"white":"black");r.push(Object(C.jsxs)("div",{className:n,onClick:function(c){return li(0,o,i)},children:[" ",Object(C.jsx)("div",{className:Z[8*o+i]}),Object(C.jsx)("p",{children:h[c[o][i].coinColor]?h[c[o][i].coinColor][c[o][i].coin]:""})]},j.uniqueId())),e="black"===e?"white":"black"},t=0;t<8;t++)n(t);return r}return Object(C.jsxs)(e.Fragment,{children:[Object(C.jsxs)("div",{className:"player",children:[Object(C.jsx)("div",{className:"nameHeader",children:c}),Object(C.jsx)("div",{className:"coinsDead",children:U.map((function(i){return Object(C.jsx)("div",{className:"dead",children:h.black[i.coin]})}))})]}),Object(C.jsxs)("div",{className:"wrapper",children:[Object(C.jsxs)("div",{className:"timer",children:[u.min,":",u.sec]}),Object(C.jsx)("div",{className:"boardContainer",children:S})]}),Object(C.jsxs)("div",{className:"player",children:[Object(C.jsx)("div",{className:"nameHeader",children:r}),Object(C.jsx)("div",{className:"coinsDead",children:G.map((function(i){return Object(C.jsx)("div",{className:"dead",children:h.white[i.coin]})}))})]})]})},d=function(){var i=Object(e.useState)(""),o=Object(s.a)(i,2),c=o[0],r=o[1];return{name:c,onChange:function(i){r(i.target.value)}}};var m=function(){for(var i=["rook","knight","bishop","queen","king","bishop","knight","rook"],o=[],c=Object(e.useState)(!1),r=Object(s.a)(c,2),n=r[0],t=r[1],l=d(),v=d(),b=0;b<8;b++){o[b]=[];for(var f=0;f<8;f++)o[b][f]=0===b?{coin:i[f],coinColor:"black",isActive:!1}:1===b?{coin:"pawn",coinColor:"black",isActive:!1}:6===b?{coin:"pawn",coinColor:"white",isActive:!1}:7===b?{coin:i[f],coinColor:"white",isActive:!1}:{coin:"",coinColor:"",isActive:!1}}return Object(C.jsxs)("div",{className:"container",children:[n?"":Object(C.jsxs)("div",{className:"header",children:[Object(C.jsx)("h1",{children:" Welcome to ChessMaster"}),Object(C.jsxs)("div",{className:"my-form",children:[Object(C.jsx)("input",Object(a.a)({type:"text",placeholder:"Player 1"},l)),Object(C.jsx)("input",Object(a.a)({type:"text",placeholder:"Player 2"},v))]}),Object(C.jsxs)("button",{className:"learn-more",onClick:function(){t(!0)},children:[Object(C.jsx)("span",{className:"circle","aria-hidden":"true",children:Object(C.jsx)("span",{className:"icon arrow"})}),Object(C.jsx)("span",{className:"button-text",children:"Play"})]})]}),n?Object(C.jsx)(O,{coinPositions:o,player1:l.name,player2:v.name}):" "]})},p=function(i){i&&i instanceof Function&&c.e(3).then(c.bind(null,21)).then((function(o){var c=o.getCLS,e=o.getFID,r=o.getFCP,n=o.getLCP,t=o.getTTFB;c(i),e(i),r(i),n(i),t(i)}))};t.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(m,{})}),document.getElementById("root")),p()}},[[20,1,2]]]);
//# sourceMappingURL=main.64d821ea.chunk.js.map